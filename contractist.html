<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>北京经贸学院管理系统</title>
    <link rel="stylesheet" type="text/css" href="jquery-easyui-1.5.2/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="jquery-easyui-1.5.2/themes/icon.css">
    <link rel="stylesheet" href="css/global.css">
    <script type="text/javascript" src="jquery-easyui-1.5.2/jquery.min.js"></script>
    <script type="text/javascript" src="jquery-easyui-1.5.2/jquery.easyui.min.js"></script>
</head>
<body>
<table class="easyui-datagrid" style="width:100%;height:450px"
       title="合同列表" toolbar="#tb"
       singleSelect="true" fitColumns="true" pagination="true" id="contractlist">

</table>

<div id="tb" style="padding:5px;height:auto">
    <div style="margin-bottom:5px">
        <a href="#" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="addcontract()"></a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-edit" plain="true"></a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-save" plain="true"></a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-remove" plain="true"></a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-search" plain="true" onclick="showcontract()"></a>
    </div>
    <!--<div>-->
        <!--Date From: <input class="easyui-datebox" style="width:80px">-->
        <!--To: <input class="easyui-datebox" style="width:80px">-->
        <!--Language:-->
        <!--<input class="easyui-combobox" style="width:100px"-->
               <!--url="data/combobox_data.json"-->
               <!--valueField="id" textField="text">-->
        <!--<a href="#" class="easyui-linkbutton" iconCls="icon-search">Search</a>-->
    <!--</div>-->
</div>
<script src="js/common.js"></script>
<script>
    $.post(commonURL + 'm/agreement/list.do', {}, function (json) {
        if(json.success){
            $('#contractlist').datagrid({
                data: json.data.list,
                columns:[[
                    {field:'id',title:'合同ID',width:100},
                    {field:'name',title:'姓名',width:100},
                    {field:'username',title:'职工号',width:100},
                    {field:'title',title:'合同名',width:100},
                    {field:'type',title:'type',width:100, formatter: function(value,row,index){
                        if(value == 1){
                            return "聘用合同"
                        }else{
                            return "其他"
                        }
                    }},
                    {field:'desc',title:'合同描述',width:100},
                    {field:'ent_timestr',title:'合同到期时间',width:100},
                ]]
            });
        }else{
            alert(json.msg)
        }
    }, 'json')

    function showcontract() {

    }

    function addcontract() {
        $.post(commonURL + 'm/agreement/list.do', {}, function (json) {

        }, 'json')
    }
</script>
</body>
</html>